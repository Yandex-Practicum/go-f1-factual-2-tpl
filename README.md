# Техническое задание: Генератор паролей на Go

1. Назначение

Программа предназначена для генерации криптостойких паролей заданной длины и состава символов. Может использоваться как консольная утилита или как библиотека в других Go‑проектах.

2. Функциональные требования

2.1. Основные функции

Генерация пароля заданной длины.

Выбор наборов символов для включения в пароль:

латинские строчные буквы (`a‑z`);

латинские прописные буквы (`A‑Z`);

цифры (`0‑9`);

специальные символы (например, `!@#$%^&*()_+-=[]{}|;:,.<>`).

Вывод сгенерированного пароля в консоль.

2.2. Параметры генерации

Длина пароля: целое число от 4 до 128 (по умолчанию — 12).

Флаг для включения/исключения каждого набора символов (по умолчанию все включены).

Возможность задать собственный набор символов (через параметр).

2.3. Интерфейс командной строки (CLI)
Программа должна принимать аргументы через os.Args или флаг‑парсер (flag пакет):

- `-length` N — длина пароля (по умолчанию 12);

- `-lower` — использовать строчные буквы (по умолчанию true);

- `-upper` — использовать прописные буквы (по умолчанию true);

- `-digits` — использовать цифры (по умолчанию true);

- `-special` — использовать специальные символы (по умолчанию true);

- `-custom "символы"` — задать свой набор символов (переопределяет предыдущие флаги);

- `-count N` — количество паролей для генерации (по умолчанию 1).

Пример вызова:

```bash
go run main.go -length 16 -digits false -special true -count 3
```

3. Нефункциональные требования

3.1. Безопасность

Использовать криптографически стойкий генератор случайных чисел (`crypto/rand` вместо `math/rand`).

Избегать предсказуемых последовательностей и шаблонов.

3.2. Производительность

Время генерации одного пароля — не более 10 мс на стандартном оборудовании.

Поддержка генерации до 100 паролей за один вызов.

3.3. Надёжность

Обработка ошибок ввода (некорректная длина, отсутствующие флаги).

Валидация диапазонов (длина от 4 до 128).

Чёткие сообщения об ошибках в `stderr`.

4. Структура проекта:

```text
./pwgen/
├── main.go                  # Точка входа, обработка аргументов
├── generator/
│   └── generator.go       # Логика генерации паролей
├── cmd/
│   └── cli.go             # Обработка CLI‑аргументов
├── tests/
│   └── generator_test.go  # Юнит‑тесты
└── README.md              # Инструкция по сборке и использованию

```

5. Требования к коду

- Стиль: соответствие `gofmt`, использование `golint`.

- Документация: комментарии к функциям и пакетам в стиле Go.

- Тестирование: покрытие юнит‑тестами не менее 80% логики генерации.

- Ошибки: возврат ошибок через `error`, обработка в вызывающем коде.

6. Примеры вывода

Успешный запуск:

```bash
$ go run main.go -length 8 -count 2
Kf7"mLp9
2xQ#vBnR
```

Ошибка ввода:

```bash
$ go run main.go -length 3
Error: password length must be between 4 and 128
```

7. Критерии приёмки

- Программа собирает без ошибок (`go build`).

- Все тесты проходят (`go test ./...`).

- Генерация паролей соответствует заданным параметрам.

- Вывод ошибок в `stderr`, результаты — в `stdout`.


8. Этапы реализации

1. Базовый генератор — генерация пароля из всех символов заданной длины.

2. CLI‑интерфейс — добавление флагов и парсинга аргументов.

3. Валидация — проверка диапазонов и ошибок.

4. Тестирование — написание юнит‑тестов.


9. Ограничения

- Не поддерживается генерация паролей с учётом языковых требований (например, кириллица).

- Нет сохранения паролей в файлы (вывод только в консоль).

- Не реализована интеграция с менеджерами паролей.